{"version":3,"names":["NitroSQLiteError","databaseQueues","Map","openDatabaseQueue","dbName","isDatabaseOpen","set","queue","inProgress","closeDatabaseQueue","databaseQueue","getDatabaseQueue","length","console","warn","delete","has","throwIfDatabaseIsNotOpen","get","openDatabase","closeDatabase","queueOperationAsync","callback","Promise","resolve","reject","start","result","error","startOperationAsync","operation","push","shift","setImmediate","startOperationSync"],"sourceRoot":"../../src","sources":["DatabaseQueue.ts"],"mappings":"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","ignoreList":[]}
